<!DOCTYPE html>
<html>
<head>
  <title>Canvas Fade Example</title>
  <style>
    canvas {
      display: block;
      margin: auto;
      background: black;
    }
  </style>
</head>
<body>
  <canvas id="canvas" width="600" height="400"></canvas>

  <script>
    const canvas = document.getElementById("canvas");
    const ctx = canvas.getContext("2d");

    // 1. Load images
    const images = [
      "assets/pictureframe/londonjacket.jpg",
      "assets/pictureframe/barbicanIM.jpg"
    ];
    const imgs = [];
    let loaded = 0;

    images.forEach((src, i) => {
      const img = new Image();
      img.src = src;
      img.onload = () => {
        loaded++;
        if (loaded === images.length) startFade(); // start when all loaded
      };
      imgs.push(img);
    });

    function startFade() {
      let index = 0;
      let alpha = 0; // transparency of the next image
      const fadeSpeed = 0.02;

      function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // Draw current image fully
        ctx.globalAlpha = 1;
        ctx.drawImage(imgs[index], 0, 0, canvas.width, canvas.height);

        // Draw next image on top with alpha
        const nextIndex = (index + 1) % imgs.length;
        ctx.globalAlpha = alpha;
        ctx.drawImage(imgs[nextIndex], 0, 0, canvas.width, canvas.height);

        // Increase alpha to fade
        alpha += fadeSpeed;
        if (alpha >= 1) {
          alpha = 0;
          index = nextIndex;
        }

        requestAnimationFrame(animate);
      }

      animate();
    }
  </script>
</body>
</html>
